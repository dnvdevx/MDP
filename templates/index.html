<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Agriculture Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 20px rgba(34, 197, 94, 0.5); }
            50% { box-shadow: 0 0 40px rgba(34, 197, 94, 0.8); }
        }
    </style>
</head>
<body class="min-h-screen flex flex-col bg-gradient-to-br from-green-50 via-blue-50 to-green-100">
    <div class="fixed inset-0 overflow-hidden pointer-events-none opacity-30">
        <div class="absolute top-20 left-10 w-72 h-72 bg-green-400 rounded-full mix-blend-multiply filter blur-3xl animate-pulse"></div>
        <div class="absolute top-40 right-20 w-96 h-96 bg-blue-400 rounded-full mix-blend-multiply filter blur-3xl animate-pulse" style="animation-delay: 1s;"></div>
        <div class="absolute bottom-20 left-1/3 w-80 h-80 bg-teal-400 rounded-full mix-blend-multiply filter blur-3xl animate-pulse" style="animation-delay: 2s;"></div>
    </div>

    <header class="relative bg-gradient-to-r from-green-600 to-green-700 text-white shadow-lg">
        <div class="container mx-auto px-4 py-6">
            <div class="flex justify-between items-center flex-wrap gap-4">
                <div class="flex items-center space-x-3">
                    <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"></path>
                    </svg>
                    <h1 class="text-3xl font-bold" id="header-title">Smart Agriculture Platform</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <label class="text-sm font-medium" id="lang-label">Select Language</label>
                    <select id="language-select" class="bg-white text-green-700 px-4 py-2 rounded-lg font-medium shadow-md">
                        <option value="en">English</option>
                        <option value="hi">हिंदी</option>
                        <option value="ta">தமிழ்</option>
                        <option value="te">తెలుగు</option>
                        <option value="bn">বাংলা</option>
                    </select>
                </div>
            </div>
        </div>
    </header>

    <nav class="bg-white shadow-md sticky top-0 z-10">
        <div class="container mx-auto px-4">
            <div class="flex space-x-1">
                <button onclick="showTab('crops')" id="nav-crops" class="flex items-center space-x-2 px-6 py-4 font-medium bg-green-600 text-white border-b-4 border-green-700 transition-all">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"></path>
                    </svg>
                    <span id="nav-crops-text">Crop Information</span>
                </button>
                <button onclick="showTab('dashboard')" id="nav-dashboard" class="flex items-center space-x-2 px-6 py-4 font-medium text-gray-700 hover:bg-green-50 transition-all">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                    </svg>
                    <span id="nav-dashboard-text">IoT Dashboard</span>
                </button>
                <button onclick="showTab('disease')" id="nav-disease" class="flex items-center space-x-2 px-6 py-4 font-medium text-gray-700 hover:bg-green-50 transition-all">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                    <span id="nav-disease-text">Disease Detection</span>
                </button>
            </div>
        </div>
    </nav>

    <main class="container flex-grow mx-auto px-4 py-10 relative z-10">
        <div id="crops-tab">
            <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
                <label class="block text-lg font-semibold text-gray-700 mb-3" id="select-crop-label">Select a Crop</label>
                <select id="crop-select" class="w-full px-4 py-3 border-2 border-green-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-lg">
                    <option value="" id="crop-option-default">-- Select a Crop --</option>
                    <option value="rice" id="crop-option-rice">Rice</option>
                    <option value="wheat" id="crop-option-wheat">Wheat</option>
                    <option value="cotton" id="crop-option-cotton">Cotton</option>
                    <option value="sugarcane" id="crop-option-sugarcane">Sugarcane</option>
                    <option value="maize" id="crop-option-maize">Maize</option>
                </select>
            </div>

            <div id="crop-info" class="hidden grid md:grid-cols-2 gap-6">
                <div class="bg-gradient-to-br from-orange-500 to-red-500 rounded-xl shadow-lg p-6 text-white transform hover:scale-105 transition-all duration-300">
                    <div class="flex items-center space-x-3 mb-3">
                        <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                        </svg>
                        <h3 class="text-xl font-bold" id="temp-label">Temperature</h3>
                    </div>
                    <p class="text-2xl font-semibold" id="temp-value">-</p>
                </div>

                <div class="bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg p-6 text-white transform hover:scale-105 transition-all duration-300">
                    <div class="flex items-center space-x-3 mb-3">
                        <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
                        </svg>
                        <h3 class="text-xl font-bold" id="moisture-label">Soil Moisture</h3>
                    </div>
                    <p class="text-2xl font-semibold" id="moisture-value">-</p>
                </div>

                <div class="bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl shadow-lg p-6 text-white transform hover:scale-105 transition-all duration-300">
                    <div class="flex items-center space-x-3 mb-3">
                        <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                        </svg>
                        <h3 class="text-xl font-bold" id="ph-label">pH Level</h3>
                    </div>
                    <p class="text-2xl font-semibold" id="ph-value">-</p>
                </div>

                <div class="bg-gradient-to-br from-green-500 to-teal-500 rounded-xl shadow-lg p-6 text-white transform hover:scale-105 transition-all duration-300">
                    <div class="flex items-center space-x-3 mb-3">
                        <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"></path>
                        </svg>
                        <h3 class="text-xl font-bold" id="soil-label">Soil Type</h3>
                    </div>
                    <p class="text-lg font-semibold" id="soil-value">-</p>
                </div>

                <div class="md:col-span-2 bg-white rounded-xl shadow-lg p-6">
                    <h3 class="text-xl font-bold text-gray-800 mb-3" id="fert-label">Fertilizers</h3>
                    <p class="text-gray-700" id="fert-value">-</p>
                </div>

                <div class="md:col-span-2 bg-white rounded-xl shadow-lg p-6">
                    <h3 class="text-xl font-bold text-gray-800 mb-3" id="pest-label">Pesticides</h3>
                    <p class="text-gray-700" id="pest-value">-</p>
                </div>

                <div class="md:col-span-2 bg-gradient-to-r from-yellow-100 to-green-100 rounded-xl shadow-lg p-6">
                    <h3 class="text-xl font-bold text-gray-800 mb-3" id="info-label">Additional Information</h3>
                    <p class="text-gray-700" id="info-value">-</p>
                </div>
            </div>
        </div>

        <div id="dashboard-tab" class="hidden">
            <h2 class="text-2xl font-bold text-gray-800 mb-6" id="realtime-label">Real-time Sensor Data</h2>

            <div class="grid md:grid-cols-4 gap-6 mb-6">
                <div class="bg-gradient-to-br from-red-500 to-orange-500 rounded-2xl shadow-xl p-6 text-white transform hover:scale-105 transition-all duration-300">
                    <div class="flex justify-between items-start mb-4">
                        <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                        </svg>
                        <div class="bg-white bg-opacity-20 px-3 py-1 rounded-full text-xs font-semibold">LIVE</div>
                    </div>
                    <h3 class="text-sm font-medium mb-1" id="dash-temp-label">Temperature</h3>
                    <p class="text-4xl font-bold mb-2" id="sensor-temp">28°C</p>
                    <div class="flex items-center text-xs">
                        <span class="mr-2">↑ 2°C</span>
                        <div class="flex-1 bg-white bg-opacity-30 rounded-full h-1">
                            <div class="bg-white h-1 rounded-full" style="width: 70%"></div>
                        </div>
                    </div>
                </div>

                <div class="bg-gradient-to-br from-blue-500 to-cyan-500 rounded-2xl shadow-xl p-6 text-white transform hover:scale-105 transition-all duration-300">
                    <div class="flex justify-between items-start mb-4">
                        <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"></path>
                        </svg>
                        <div class="bg-white bg-opacity-20 px-3 py-1 rounded-full text-xs font-semibold">LIVE</div>
                    </div>
                    <h3 class="text-sm font-medium mb-1" id="dash-hum-label">Humidity</h3>
                    <p class="text-4xl font-bold mb-2" id="sensor-humidity">65%</p>
                    <div class="flex items-center text-xs">
                        <span class="mr-2">↓ 3%</span>
                        <div class="flex-1 bg-white bg-opacity-30 rounded-full h-1">
                            <div class="bg-white h-1 rounded-full" style="width: 65%"></div>
                        </div>
                    </div>
                </div>

                <div class="bg-gradient-to-br from-green-500 to-teal-500 rounded-2xl shadow-xl p-6 text-white transform hover:scale-105 transition-all duration-300">
                    <div class="flex justify-between items-start mb-4">
                        <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
                        </svg>
                        <div class="bg-white bg-opacity-20 px-3 py-1 rounded-full text-xs font-semibold">LIVE</div>
                    </div>
                    <h3 class="text-sm font-medium mb-1" id="dash-moist-label">Soil Moisture</h3>
                    <p class="text-4xl font-bold mb-2" id="sensor-moisture">55%</p>
                    <div class="flex items-center text-xs">
                        <span class="mr-2">↑ 5%</span>
                        <div class="flex-1 bg-white bg-opacity-30 rounded-full h-1">
                            <div class="bg-white h-1 rounded-full" style="width: 55%"></div>
                        </div>
                    </div>
                </div>

                <div class="bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl shadow-xl p-6 text-white transform hover:scale-105 transition-all duration-300">
                    <div class="flex justify-between items-start mb-4">
                        <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                        </svg>
                        <div class="bg-white bg-opacity-20 px-3 py-1 rounded-full text-xs font-semibold">LIVE</div>
                    </div>
                    <h3 class="text-sm font-medium mb-1" id="dash-ph-label">pH Level</h3>
                    <p class="text-4xl font-bold mb-2" id="sensor-ph">6.8</p>
                    <div class="flex items-center text-xs">
                        <span class="mr-2">↔ 0.0</span>
                        <div class="flex-1 bg-white bg-opacity-30 rounded-full h-1">
                            <div class="bg-white h-1 rounded-full" style="width: 48%"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-2xl shadow-xl p-8 mb-6">
                <div class="flex justify-between items-center mb-6">
                    <div>
                        <h3 class="text-2xl font-bold text-gray-800" id="chart1-label">Temperature and Humidity Trends</h3>
                        <p class="text-sm text-gray-500 mt-1">Last 24 hours monitoring</p>
                    </div>
                    <div class="flex space-x-2">
                        <div class="flex items-center">
                            <div class="w-3 h-3 bg-red-500 rounded-full mr-2"></div>
                            <span class="text-sm text-gray-600" id="temp-legend">Temp</span>
                        </div>
                        <div class="flex items-center ml-4">
                            <div class="w-3 h-3 bg-blue-500 rounded-full mr-2"></div>
                            <span class="text-sm text-gray-600" id="humidity-legend">Humidity</span>
                        </div>
                    </div>
                </div>
                <canvas id="tempHumChart"></canvas>
            </div>

            <div class="grid md:grid-cols-2 gap-6">
                <div class="bg-white rounded-2xl shadow-xl p-8">
                    <div class="mb-6">
                        <h3 class="text-2xl font-bold text-gray-800" id="chart2-label">Soil Moisture Levels</h3>
                        <p class="text-sm text-gray-500 mt-1">Last 12 hours</p>
                    </div>
                    <canvas id="moistureChart"></canvas>
                </div>

                <div class="bg-white rounded-2xl shadow-xl p-8">
                    <div class="mb-6">
                        <h3 class="text-2xl font-bold text-gray-800" id="ph-chart-label">pH Level Distribution</h3>
                        <p class="text-sm text-gray-500 mt-1">Last 12 hours</p>
                    </div>
                    <canvas id="phChart"></canvas>
                </div>
            </div>
        </div>

        <div id="disease-tab" class="hidden">
            <div class="bg-white rounded-xl shadow-lg p-8">
                <h2 class="text-2xl font-bold text-gray-800 mb-6" id="disease-title">Plant Disease Detection</h2>

                <div class="border-4 border-dashed border-green-300 rounded-xl p-8 text-center mb-6">
                    <svg class="w-16 h-16 mx-auto mb-4 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                    <p class="text-lg text-gray-600 mb-4" id="upload-text">Upload Plant Image</p>
                    <input type="file" accept="image/*" id="image-upload" class="hidden">
                    <label for="image-upload" class="bg-green-600 text-white px-6 py-3 rounded-lg font-semibold cursor-pointer hover:bg-green-700 transition-all inline-block">
                        <span id="choose-file-text">Choose File</span>
                    </label>
                </div>

                <div id="image-preview" class="hidden mb-6">
                    <img id="preview-img" class="max-w-md mx-auto rounded-lg shadow-lg mb-4">
                    <button onclick="analyzeDisease()" id="analyze-btn" class="bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-all mx-auto block">
                        Analyze Disease
                    </button>
                </div>

                <div id="disease-result" class="hidden bg-gradient-to-r from-yellow-50 to-red-50 rounded-xl p-6 border-2 border-red-300">
                    <h3 class="text-2xl font-bold text-red-700 mb-4" id="results-title">Detection Results</h3>
                    <div class="space-y-3">
                        <div>
                            <span class="font-semibold text-gray-700" id="disease-label">Disease: </span>
                            <span class="text-xl font-bold text-red-600" id="disease-name">-</span>
                        </div>
                        <div>
                            <span class="font-semibold text-gray-700" id="confidence-label">Confidence: </span>
                            <span class="text-lg font-bold text-green-600" id="disease-confidence">-</span>
                        </div>
                        <div>
                            <span class="font-semibold text-gray-700" id="description-label">Description: </span>
                            <span class="text-gray-800" id="disease-desc">-</span>
                        </div>
                        <div>
                            <span class="font-semibold text-gray-700" id="treatment-label">Treatment: </span>
                            <span class="text-gray-800" id="disease-treatment">-</span>
                        </div>
                        <div>
                            <span class="font-semibold text-gray-700" id="prevention-label">Prevention: </span>
                            <span class="text-gray-800" id="disease-prevention">-</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="bg-green-800 text-white py-6 mt-auto">
    <div class="container mx-auto px-4 text-center">
      <p class="text-lg" id="footer-text">
        © 2025 Smart Agriculture Platform | Empowering Farmers with Technology
      </p>
    </div>
  </footer>


    <script>
        const translations = {
            en: {title: "Smart Agriculture Platform", crops: "Crop Information", dashboard: "IoT Dashboard", disease: "Disease Detection", selectCrop: "Select a Crop", temperature: "Temperature", soilMoisture: "Soil Moisture", pH: "pH Level", fertilizers: "Fertilizers", pesticides: "Pesticides", soilType: "Soil Type", additionalInfo: "Additional Information", uploadImage: "Upload Plant Image", analyze: "Analyze Disease", selectLanguage: "Select Language", humidity: "Humidity", realTimeData: "Real-time Sensor Data", chooseFile: "Choose File", selectCropOption: "-- Select a Crop --", rice: "Rice", wheat: "Wheat", cotton: "Cotton", sugarcane: "Sugarcane", maize: "Maize", chart1Label: "Temperature and Humidity Trends", chart2Label: "Soil Moisture Levels", phChartLabel: "pH Level Distribution", footerText: "© 2025 Smart Agriculture Platform | Empowering Farmers with Technology", tempLegend: "Temp", humidityLegend: "Humidity", resultsTitle: "Detection Results", diseaseLabel: "Disease: ", confidenceLabel: "Confidence: ", descriptionLabel: "Description: ", treatmentLabel: "Treatment: ", preventionLabel: "Prevention: "},
            hi: {title: "स्मार्ट कृषि मंच", crops: "फसल जानकारी", dashboard: "आईओटी डैशबोर्ड", disease: "रोग पहचान", selectCrop: "फसल चुनें", temperature: "तापमान", soilMoisture: "मिट्टी की नमी", pH: "पीएच स्तर", fertilizers: "उर्वरक", pesticides: "कीटनाशक", soilType: "मिट्टी का प्रकार", additionalInfo: "अतिरिक्त जानकारी", uploadImage: "पौधे की छवि अपलोड करें", analyze: "रोग का विश्लेषण करें", selectLanguage: "भाषा चुनें", humidity: "आर्द्रता", realTimeData: "वास्तविक समय सेंसर डेटा", chooseFile: "फ़ाइल चुनें", selectCropOption: "-- एक फसल चुनें --", rice: "चावल", wheat: "गेहूं", cotton: "कपास", sugarcane: "गन्ना", maize: "मक्का", chart1Label: "तापमान और आर्द्रता रुझान", chart2Label: "मिट्टी की नमी का स्तर", phChartLabel: "पीएच स्तर वितरण", footerText: "© 2025 स्मार्ट कृषि मंच | प्रौद्योगिकी के साथ किसानों को सशक्त बनाना", tempLegend: "तापमान", humidityLegend: "आर्द्रता", resultsTitle: "पहचान परिणाम", diseaseLabel: "रोग: ", confidenceLabel: "विश्वास: ", descriptionLabel: "विवरण: ", treatmentLabel: "उपचार: ", preventionLabel: "रोकथाम: "},
            ta: {title: "ஸ்மார்ட் வேளாண்மை தளம்", crops: "பயிர் தகவல்", dashboard: "IoT டாஷ்போர்டு", disease: "நோய் கண்டறிதல்", selectCrop: "பயிரைத் தேர்ந்தெடுக்கவும்", temperature: "வெப்பநிலை", soilMoisture: "மண் ஈரப்பதம்", pH: "pH நிலை", fertilizers: "உரங்கள்", pesticides: "பூச்சிக்கொல்லிகள்", soilType: "மண் வகை", additionalInfo: "கூடுதல் தகவல்", uploadImage: "செடி படத்தைப் பதிவேற்றவும்", analyze: "நோயை பகுப்பாய்வு செய்", selectLanguage: "மொழியைத் தேர்ந்தெடுக்கவும்", humidity: "ஈரப்பதம்", realTimeData: "நேரடி சென்சார் தரவு", chooseFile: "கோப்பைத் தேர்ந்தெடுக்கவும்", selectCropOption: "-- ஒரு பயிரைத் தேர்ந்தெடுக்கவும் --", rice: "அரிசி", wheat: "கோதுமை", cotton: "பருத்தி", sugarcane: "கரும்பு", maize: "மக்காச்சோளம்", chart1Label: "வெப்பநிலை மற்றும் ஈரப்பதம் போக்குகள்", chart2Label: "மண் ஈரப்பதம் நிலைகள்", phChartLabel: "pH நிலை பகிர்வு", footerText: "© 2025 ஸ்மார்ட் வேளாண்மை தளம் | தொழில்நுட்பத்துடன் விவசாயிகளை மேம்படுத்துதல்", tempLegend: "வெப்பம்", humidityLegend: "ஈரப்பதம்", resultsTitle: "கண்டறிதல் முடிவுகள்", diseaseLabel: "நோய்: ", confidenceLabel: "நம்பிக்கை: ", descriptionLabel: "விளக்கம்: ", treatmentLabel: "சிகிச்சை: ", preventionLabel: "தடுப்பு: "},
            te: {title: "స్మార్ట్ వ్యవసాయ వేదిక", crops: "పంట సమాచారం", dashboard: "IoT డాష్‌బోర్డ్", disease: "వ్యాధి గుర్తింపు", selectCrop: "పంటను ఎంచుకోండి", temperature: "ఉష్ణోగ్రత", soilMoisture: "నేల తేమ", pH: "pH స్థాయి", fertilizers: "ఎరువులు", pesticides: "పురుగుమందులు", soilType: "నేల రకం", additionalInfo: "అదనపు సమాచారం", uploadImage: "మొక్క చిత్రాన్ని అప్‌లోడ్ చేయండి", analyze: "వ్యాధిని విశ్లేషించండి", selectLanguage: "భాషను ఎంచుకోండి", humidity: "తేమ", realTimeData: "రియల్-టైమ్ సెన్సార్ డేటా", chooseFile: "ఫైల్‌ను ఎంచుకోండి", selectCropOption: "-- ఒక పంటను ఎంచుకోండి --", rice: "వరి", wheat: "గోధుమ", cotton: "పత్తి", sugarcane: "చెరకు", maize: "మొక్కజొన్న", chart1Label: "ఉష్ణోగ్రత మరియు తేమ ధోరణులు", chart2Label: "నేల తేమ స్థాయిలు", phChartLabel: "pH స్థాయి పంపిణీ", footerText: "© 2025 స్మార్ట్ వ్యవసాయ వేదిక | సాంకేతికతతో రైతులను శక్తివంతం చేయడం", tempLegend: "ఉష్ణం", humidityLegend: "తేమ", resultsTitle: "గుర్తింపు ఫలితాలు", diseaseLabel: "వ్యాధి: ", confidenceLabel: "విశ్వాసం: ", descriptionLabel: "వివరణ: ", treatmentLabel: "చికిత్స: ", preventionLabel: "నివారణ: "},
            bn: {title: "স্মার্ট কৃষি প্ল্যাটফর্ম", crops: "ফসলের তথ্য", dashboard: "IoT ড্যাশবোর্ড", disease: "রোগ সনাক্তকরণ", selectCrop: "একটি ফসল নির্বাচন করুন", temperature: "তাপমাত্রা", soilMoisture: "মাটির আর্দ্রতা", pH: "pH স্তর", fertilizers: "সার", pesticides: "কীটনাশক", soilType: "মাটির ধরন", additionalInfo: "অতিরিক্ত তথ্য", uploadImage: "উদ্ভিদ ছবি আপলোড করুন", analyze: "রোগ বিশ্লেষণ করুন", selectLanguage: "ভাষা নির্বাচন করুন", humidity: "আর্দ্রতা", realTimeData: "রিয়েল-টাইম সেন্সর ডেটা", chooseFile: "ফাইল নির্বাচন করুন", selectCropOption: "-- একটি ফসল নির্বাচন করুন --", rice: "চাল", wheat: "গম", cotton: "তুলা", sugarcane: "আখ", maize: "ভুট্টা", chart1Label: "তাপমাত্রা এবং আর্দ্রতা প্রবণতা", chart2Label: "মাটির আর্দ্রতা স্তর", phChartLabel: "pH স্তর বিতরণ", footerText: "© 2025 স্মার্ট কৃষি প্ল্যাটফর্ম | প্রযুক্তির সাথে কৃষকদের ক্ষমতায়ন", tempLegend: "তাপমাত্রা", humidityLegend: "আর্দ্রতা", resultsTitle: "সনাক্তকরণের ফলাফল", diseaseLabel: "রোগ: ", confidenceLabel: "আত্মবিশ্বাস: ", descriptionLabel: "বর্ণনা: ", treatmentLabel: "চিকিৎসা: ", preventionLabel: "প্রতিরোধ: "}
        };

        const cropData = {
            rice: {temperature: "20-35 Celsius", soilMoisture: "Saturated flooded conditions", pH: "5.5-7.0", fertilizers: "Urea, DAP, Potash NPK 4:2:1 ratio", pesticides: "Chlorpyrifos, Carbofuran, Fipronil", soilType: "Clay loam, Silty clay", additionalInfo: "Rice requires standing water for most of its growing period. Best grown in monsoon season with 1000-2000mm rainfall."},
            wheat: {temperature: "10-25 Celsius", soilMoisture: "Moderate 60-70 percent field capacity", pH: "6.0-7.5", fertilizers: "Urea, DAP, MOP NPK 120:60:40 kg per ha", pesticides: "Mancozeb, Propiconazole, Tebuconazole", soilType: "Loamy, Well-drained", additionalInfo: "Wheat is a rabi crop requiring cool climate. Needs 4-5 irrigations during growing season."},
            cotton: {temperature: "21-30 Celsius", soilMoisture: "Moderate 50-60 percent field capacity", pH: "6.0-8.0", fertilizers: "Urea, SSP, MOP NPK 100:50:50 kg per ha", pesticides: "Imidacloprid, Acephate, Cypermethrin", soilType: "Black cotton soil, Sandy loam", additionalInfo: "Cotton requires 180-200 frost-free days. Needs bright sunshine and warm conditions."},
            sugarcane: {temperature: "20-35 Celsius", soilMoisture: "High 70-80 percent field capacity", pH: "6.0-7.5", fertilizers: "Urea, SSP, MOP NPK 250:115:115 kg per ha", pesticides: "Chlorpyrifos, Carbofuran, Monocrotophos", soilType: "Deep loamy, Well-drained", additionalInfo: "Sugarcane is a long-duration crop 12-18 months. Requires abundant water and sunshine."},
            maize: {temperature: "18-30 Celsius", soilMoisture: "Moderate 55-65 percent field capacity", pH: "5.5-7.5", fertilizers: "Urea, DAP, MOP NPK 120:60:40 kg per ha", pesticides: "Carbofuran, Cypermethrin, Emamectin benzoate", soilType: "Well-drained loamy, Sandy loam", additionalInfo: "Maize requires moderate rainfall 50-75cm. Can be grown in kharif and rabi seasons."}
        };

        let currentLanguage = 'en';
        let tempChart, moistureChart, phChart;

        function updateLanguage() {
            const lang = document.getElementById('language-select').value;
            currentLanguage = lang;
            const t = translations[lang];
            document.getElementById('header-title').textContent = t.title;
            document.getElementById('lang-label').textContent = t.selectLanguage;
            document.getElementById('nav-crops-text').textContent = t.crops;
            document.getElementById('nav-dashboard-text').textContent = t.dashboard;
            document.getElementById('nav-disease-text').textContent = t.disease;
            document.getElementById('select-crop-label').textContent = t.selectCrop;
            document.getElementById('temp-label').textContent = t.temperature;
            document.getElementById('moisture-label').textContent = t.soilMoisture;
            document.getElementById('ph-label').textContent = t.pH;
            document.getElementById('soil-label').textContent = t.soilType;
            document.getElementById('fert-label').textContent = t.fertilizers;
            document.getElementById('pest-label').textContent = t.pesticides;
            document.getElementById('info-label').textContent = t.additionalInfo;
            document.getElementById('realtime-label').textContent = t.realTimeData;
            document.getElementById('dash-temp-label').textContent = t.temperature;
            document.getElementById('dash-hum-label').textContent = t.humidity;
            document.getElementById('dash-moist-label').textContent = t.soilMoisture;
            document.getElementById('dash-ph-label').textContent = t.pH;
            document.getElementById('disease-title').textContent = t.disease;
            document.getElementById('upload-text').textContent = t.uploadImage;
            document.getElementById('choose-file-text').textContent = t.chooseFile;
            document.getElementById('analyze-btn').textContent = t.analyze;
            document.getElementById('chart1-label').textContent = t.chart1Label;
            document.getElementById('chart2-label').textContent = t.chart2Label;
            document.getElementById('ph-chart-label').textContent = t.phChartLabel;
            document.getElementById('footer-text').textContent = t.footerText;
            document.getElementById('crop-option-default').textContent = t.selectCropOption;
            document.getElementById('crop-option-rice').textContent = t.rice;
            document.getElementById('crop-option-wheat').textContent = t.wheat;
            document.getElementById('crop-option-cotton').textContent = t.cotton;
            document.getElementById('crop-option-sugarcane').textContent = t.sugarcane;
            document.getElementById('crop-option-maize').textContent = t.maize;
            document.getElementById('temp-legend').textContent = t.tempLegend;
            document.getElementById('humidity-legend').textContent = t.humidityLegend;
            document.getElementById('results-title').textContent = t.resultsTitle;
            document.getElementById('disease-label').textContent = t.diseaseLabel;
            document.getElementById('confidence-label').textContent = t.confidenceLabel;
            document.getElementById('description-label').textContent = t.descriptionLabel;
            document.getElementById('treatment-label').textContent = t.treatmentLabel;
            document.getElementById('prevention-label').textContent = t.preventionLabel;
        }

        function showTab(tabName) {
            ['crops-tab', 'dashboard-tab', 'disease-tab'].forEach(id => document.getElementById(id).classList.add('hidden'));
            ['nav-crops', 'nav-dashboard', 'nav-disease'].forEach(id => {
                const el = document.getElementById(id);
                el.classList.remove('bg-green-600', 'text-white', 'border-b-4', 'border-green-700');
                el.classList.add('text-gray-700', 'hover:bg-green-50');
            });
            document.getElementById(tabName + '-tab').classList.remove('hidden');
            const activeNav = document.getElementById('nav-' + tabName);
            activeNav.classList.add('bg-green-600', 'text-white', 'border-b-4', 'border-green-700');
            activeNav.classList.remove('text-gray-700', 'hover:bg-green-50');
            if (tabName === 'dashboard') initCharts();
        }

        function updateCropInfo() {
            const crop = document.getElementById('crop-select').value;
            if (crop && cropData[crop]) {
                document.getElementById('crop-info').classList.remove('hidden');
                const data = cropData[crop];
                document.getElementById('temp-value').textContent = data.temperature;
                document.getElementById('moisture-value').textContent = data.soilMoisture;
                document.getElementById('ph-value').textContent = data.pH;
                document.getElementById('soil-value').textContent = data.soilType;
                document.getElementById('fert-value').textContent = data.fertilizers;
                document.getElementById('pest-value').textContent = data.pesticides;
                document.getElementById('info-value').textContent = data.additionalInfo;
            } else {
                document.getElementById('crop-info').classList.add('hidden');
            }
        }

        function generateSensorData() {
            const data = [];
            const now = Date.now();
            for (let i = 23; i >= 0; i--) {
                const time = new Date(now - i * 3600000);
                data.push({
                    time: time.getHours() + ':00',
                    temperature: Math.floor(Math.random() * 10 + 25),
                    humidity: Math.floor(Math.random() * 20 + 60),
                    soilMoisture: Math.floor(Math.random() * 30 + 40),
                    pH: (Math.random() * 1.5 + 6).toFixed(1)
                });
            }
            return data;
        }

        function initCharts() {
            if (tempChart) return;
            const sensorData = generateSensorData();
            const labels = sensorData.map(d => d.time);

            tempChart = new Chart(document.getElementById('tempHumChart').getContext('2d'), {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Temperature (°C)',
                        data: sensorData.map(d => d.temperature),
                        borderColor: 'rgb(239, 68, 68)',
                        backgroundColor: 'rgba(239, 68, 68, 0.1)',
                        tension: 0.4,
                        fill: true,
                        borderWidth: 3
                    }, {
                        label: 'Humidity (%)',
                        data: sensorData.map(d => d.humidity),
                        borderColor: 'rgb(59, 130, 246)',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        tension: 0.4,
                        fill: true,
                        borderWidth: 3
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {legend: {display: false}},
                    scales: {x: {grid: {display: false}}, y: {beginAtZero: false, grid: {color: 'rgba(0, 0, 0, 0.05)'}}}
                }
            });

            moistureChart = new Chart(document.getElementById('moistureChart').getContext('2d'), {
                type: 'bar',
                data: {
                    labels: labels.slice(-12),
                    datasets: [{
                        label: 'Soil Moisture (%)',
                        data: sensorData.slice(-12).map(d => d.soilMoisture),
                        backgroundColor: ctx => {
                            const v = ctx.parsed.y;
                            return v < 45 ? 'rgba(239, 68, 68, 0.8)' : v < 60 ? 'rgba(245, 158, 11, 0.8)' : 'rgba(16, 185, 129, 0.8)';
                        },
                        borderWidth: 2,
                        borderRadius: 8
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {legend: {display: false}},
                    scales: {x: {grid: {display: false}}, y: {beginAtZero: true, max: 100}}
                }
            });

            phChart = new Chart(document.getElementById('phChart').getContext('2d'), {
                type: 'line',
                data: {
                    labels: labels.slice(-12),
                    datasets: [{
                        label: 'pH Level',
                        data: sensorData.slice(-12).map(d => d.pH),
                        borderColor: 'rgb(168, 85, 247)',
                        backgroundColor: 'rgba(168, 85, 247, 0.1)',
                        tension: 0.4,
                        fill: true,
                        borderWidth: 3
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {legend: {display: false}},
                    scales: {x: {grid: {display: false}}, y: {min: 5, max: 8}}
                }
            });
        }

        function updateSensorValues() {
            document.getElementById('sensor-temp').textContent = Math.floor(Math.random() * 10 + 25) + '°C';
            document.getElementById('sensor-humidity').textContent = Math.floor(Math.random() * 20 + 60) + '%';
            document.getElementById('sensor-moisture').textContent = Math.floor(Math.random() * 30 + 40) + '%';
            document.getElementById('sensor-ph').textContent = (Math.random() * 1.5 + 6).toFixed(1);
        }

        function analyzeDisease() {
            document.getElementById('disease-result').classList.remove('hidden');
            document.getElementById('disease-name').textContent = 'Late Blight';
            document.getElementById('disease-confidence').textContent = '87%';
            document.getElementById('disease-desc').textContent = 'Fungal disease affecting leaves and stems. Common in humid conditions.';
            document.getElementById('disease-treatment').textContent = 'Apply Mancozeb or Copper-based fungicides. Remove affected leaves immediately.';
            document.getElementById('disease-prevention').textContent = 'Ensure proper spacing, avoid overhead watering, improve air circulation.';
        }

        document.getElementById('language-select').addEventListener('change', updateLanguage);
        document.getElementById('crop-select').addEventListener('change', updateCropInfo);
        document.getElementById('image-upload').addEventListener('change', e => {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = event => {
                    document.getElementById('preview-img').src = event.target.result;
                    document.getElementById('image-preview').classList.remove('hidden');
                    document.getElementById('disease-result').classList.add('hidden');
                };
                reader.readAsDataURL(file);
            }
        });

        setInterval(updateSensorValues, 5000);
        updateSensorValues();
    </script>
</body>
</html>